import{u as f,i as S}from"./action-5b70528b.js";import{d as z,y as x,z as V,D as b,r as n,a as w,c as q,w as p,x as a,j as u,v as O,V as U,$,S as c}from"./tool-a5cfd998.js";import"./modulepreload-polyfill-3cfb730f.js";const R=z({__name:"UrlParse",async setup(A){let l,m;const t=f(([l,m]=x(()=>S({input:"",querySerializeOption:$("json")},{paste:r=>r.includes("://")})),l=await l,m(),l)),i=V(()=>{if(t.current.input.trim()==="")return{base:"",path:"",query:c.formQueryString(""),hash:""};try{const e=new URL(t.current.input);return{base:e.origin,path:e.pathname,query:c.formQueryString((e.search.startsWith("?")?e.search.substring(1):e.search)||""),hash:e.hash}}catch(e){return{base:$error(e),path:"",query:c.formQueryString(""),hash:""}}});return b(()=>({url:t.current.input}),()=>{try{new URL(t.current.input),t.save()}catch{}},{immediate:!0}),(r,e)=>{const h=n("Textarea"),s=n("Input"),d=n("Align"),_=n("SerializeOutput"),y=n("HeightResize");return w(),q(y,{reduce:5,ignore:""},{default:p(({small:v,large:g})=>[a(d,{direction:"vertical"},{default:p(()=>[a(h,{height:v,placeholder:r.$t("main_ui_input"),modelValue:u(t).current.input,"onUpdate:modelValue":e[0]||(e[0]=o=>u(t).current.input=o)},null,8,["height","placeholder","modelValue"]),O("div",{style:U([{height:`${g}px`},{display:"grid","grid-template-rows":"auto minmax(0,1fr)",gap:"5px"}])},[a(d,{direction:"vertical"},{default:p(()=>[a(s,{label:"Base","model-value":i.value.base},null,8,["model-value"]),a(s,{label:"Path","model-value":i.value.path},null,8,["model-value"]),a(s,{label:"Hash","model-value":i.value.hash},null,8,["model-value"])]),_:1}),a(_,{placeholder:"Query",content:i.value.query,modelValue:u(t).current.querySerializeOption,"onUpdate:modelValue":e[1]||(e[1]=o=>u(t).current.querySerializeOption=o),onSuccess:e[2]||(e[2]=o=>u(t).save())},null,8,["content","modelValue"])],4)]),_:2},1024)]),_:1})}}});export{R as default};
