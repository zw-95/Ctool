import{u as E,i as C}from"./action-5b70528b.js";import{g as A,a as H}from"./util-874621ee.js";import{d as R,z as T,r as i,a as V,c as D,w as s,x as n,j as t,y as F,I as v,D as P,A as Y,k as w,B as y,Y as z,F as j}from"./tool-a5cfd998.js";import"./modulepreload-polyfill-3cfb730f.js";const I=R({__name:"Reference",setup(B){const p=T(()=>[{title:$t("regex_reference_name"),key:"name",width:150},{title:$t("regex_reference_text"),key:"text",html:!0}]);return(x,o)=>{const u=i("Table"),r=i("HeightResize");return V(),D(r,null,{default:s(({height:e})=>[n(u,{columns:p.value,lists:t(A)(),height:e},null,8,["columns","lists","height"])]),_:1})}}}),L={class:"ctool-page-option",style:{"margin-bottom":"5px"}},q=R({__name:"Regex",async setup(B){let p,x;const o=E(([p,x]=F(()=>C({input:"[\\dheo]",content:new Date().getFullYear()+" hello WORLD 你好世界",replace:"",is_global:!0,is_muti_line:!0,is_ignore_case:!0,is_delete:!1},{paste:!1})),p=await p,x(),p));let u=v(""),r=v(!1);return P(()=>o.current,e=>{u.value="";try{if(!e.input||!e.content)return u.value;const l=!e.is_delete&&e.replace===""?!1:e.is_delete?"":e.replace;let g=new RegExp(e.input,(e.is_ignore_case?"i":"")+(e.is_global?"g":"")+(e.is_muti_line?"m":""));if(l!==!1)u.value=e.content.replace(g,l);else{let m=e.content.match(g),_="";if(m){_+=`${$t("regex_output_count",[m.length])}`;for(let c=0;c<m.length;c++)_+=`
${m[c]}`}else _=$t("regex_output_empty");u.value=_}o.save()}catch(l){u.value=$error(l)}},{immediate:!0,deep:!0}),(e,l)=>{const g=i("Textarea"),m=i("Dropdown"),_=i("Button"),c=i("Align"),b=i("Display"),f=i("Bool"),h=i("Editor"),U=i("HeightResize"),k=i("ExtendPage"),$=Y("row");return V(),w(j,null,[y((V(),w("div",L,[n(b,null,{extra:s(()=>[n(c,null,{default:s(()=>[n(m,{size:"small",options:t(H)(),placeholder:e.$t("regex_common"),onSelect:l[1]||(l[1]=a=>t(o).current.input=a)},null,8,["options","placeholder"]),n(_,{size:"small",type:"primary",onClick:l[2]||(l[2]=a=>z(r)?r.value=!t(r):r=!t(r)),text:e.$t("main_ui_reference")},null,8,["text"])]),_:1})]),default:s(()=>[n(g,{height:80,modelValue:t(o).current.input,"onUpdate:modelValue":l[0]||(l[0]=a=>t(o).current.input=a),placeholder:e.$t("regex_expression")},null,8,["modelValue","placeholder"])]),_:1}),n(b,null,{extra:s(()=>[n(f,{border:"",size:"small",modelValue:t(o).current.is_delete,"onUpdate:modelValue":l[4]||(l[4]=a=>t(o).current.is_delete=a),label:e.$t("regex_delete")},null,8,["modelValue","label"])]),default:s(()=>[n(g,{disabled:t(o).current.is_delete,height:80,modelValue:t(o).current.replace,"onUpdate:modelValue":l[3]||(l[3]=a=>t(o).current.replace=a),placeholder:e.$t("regex_replace_content")},null,8,["disabled","modelValue","placeholder"])]),_:1})])),[[$,"1-1"]]),y((V(),D(U,{append:[".ctool-page-option"]},{default:s(({height:a})=>[n(b,null,{extra:s(()=>[n(c,null,{default:s(()=>[n(f,{border:"",size:"small",modelValue:t(o).current.is_global,"onUpdate:modelValue":l[6]||(l[6]=d=>t(o).current.is_global=d),label:e.$t("regex_global")},null,8,["modelValue","label"]),n(f,{border:"",size:"small",modelValue:t(o).current.is_muti_line,"onUpdate:modelValue":l[7]||(l[7]=d=>t(o).current.is_muti_line=d),label:e.$t("regex_muti_line")},null,8,["modelValue","label"]),n(f,{border:"",size:"small",modelValue:t(o).current.is_ignore_case,"onUpdate:modelValue":l[8]||(l[8]=d=>t(o).current.is_ignore_case=d),label:e.$t("regex_ignore_case")},null,8,["modelValue","label"])]),_:1})]),default:s(()=>[n(h,{height:a,modelValue:t(o).current.content,"onUpdate:modelValue":l[5]||(l[5]=d=>t(o).current.content=d),placeholder:e.$t("regex_input")},null,8,["height","modelValue","placeholder"])]),_:2},1024),n(h,{height:a,"model-value":t(u),placeholder:e.$t("main_ui_output")},null,8,["height","model-value","placeholder"])]),_:1},8,["append"])),[[$,"1-1"]]),n(k,{modelValue:t(r),"onUpdate:modelValue":l[9]||(l[9]=a=>z(r)?r.value=a:r=a)},{default:s(()=>[n(I)]),_:1},8,["modelValue"])],64)}}});export{q as default};
